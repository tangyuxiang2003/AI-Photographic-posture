/* camera.wxss */
.camera-container {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column; /* 纵向分栏：上黑区 / 中间取景 / 下黑区 */
  overflow: hidden;
  background-color: #000;
}

.camera-preview {
  width: 100%;
  flex: 1;            /* 填满上下黑区之间的剩余空间 */
  background: #000;   /* 防止闪屏时露底 */
  position: relative; /* 为九宫格提供定位参考 */
}

/* 顶部控制区域 */
.top-controls {
  width: 100%;
  height: 12vh; /* 顶部固定高度 */
  background-color: #000; /* 纯黑 */
  display: flex;
  align-items: center;
  justify-content: center;
}

.top-controls-inner {
  width: 80%;
  height: 80%;
  display: flex;
  justify-content: flex-start;
  align-items: center;
}

.control-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.control-icon image {
  width: 40rpx;
  height: 40rpx;
  margin-bottom: 8rpx;
}

.timer-text {
  color: white;
  font-size: 24rpx;
}

/* 顶部控件位置调整 */
.flash-control {
  margin-top: 20px;
}
.timer-control {
  margin-top: 20px;
  margin-left: 60px;
}
.live-control {
  margin-top: 20px;
  margin-left: 60px;
}

/* 倒计时开关的视觉状态：开启时高亮，图片取消灰度 */
.timer-control image {
  filter: grayscale(100%);
}

.timer-control.on {
  border: 2rpx solid #00e676;
  border-radius: 50%;
  padding: 12rpx;
  box-shadow: 0 0 12rpx rgba(0, 230, 118, 0.6);
}

.timer-control.on image {
  filter: none;
}

/* 底部控制区域 */
.bottom-controls {
  width: 100%;
  height: calc(24vh - 70px); /* 减少70px高度 */
  background-color: #000; /* 纯黑 */
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  padding-top: 140rpx; /* 为缩略图列表留出空间 */
}

/* 按钮行容器 - 距离屏幕底部35px */
.button-row {
  position: absolute;
  bottom: 35px;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 80rpx; /* 按钮之间的间距 */
  z-index: 20;
}

/* 相册按钮（左侧，圆形且文字居中） */
.album-btn {
  width: 80rpx;
  height: 80rpx;
  border-radius: 50%;
  border: 6rpx solid white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.album-btn text {
  color: #fff;
  font-size: 32rpx;
  line-height: 1;
}

/* 快门按钮（居中） */
.shutter-btn {
  width: 144rpx; /* 120 * 1.2 = 144 */
  height: 144rpx;
  display: flex;
  align-items: center;
  justify-content: center;
}

.shutter-btn image {
  width: 100%;
  height: 100%;
}

/* 镜头反转按钮（右侧，圆形且图标居中） */
.switch-camera {
  width: 80rpx;
  height: 80rpx;
  border-radius: 50%;
  border: 6rpx solid white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.switch-camera image {
  width: 48rpx;
  height: 40rpx;
}

/* 左侧容器 - 已废弃，保留以防需要 */
.left-actions {
  display: none;
}

/* 右侧容器 - 已废弃，保留以防需要 */
.right-actions {
  display: none;
}

/* 生成图片缩略图列表 */
.thumbnail-list {
  position: absolute;
  top: 15px; /* 距离底部黑色区域顶部15px */
  left: 0;
  right: 0;
  height: 120rpx;
  z-index: 10;
}

.thumbnail-scroll {
  width: 100%;
  height: 100%;
  white-space: nowrap;
}

.thumbnail-item {
  display: inline-block;
  width: 100rpx;
  height: 100rpx;
  margin: 0 10rpx;
  border-radius: 12rpx;
  overflow: hidden;
  border: 3rpx solid rgba(255, 255, 255, 0.5);
  transition: all 0.3s;
}

.thumbnail-item:first-child {
  margin-left: 30rpx;
}

.thumbnail-item:last-child {
  margin-right: 30rpx;
}

.thumbnail-item image {
  width: 100%;
  height: 100%;
}

.thumbnail-item:active {
  transform: scale(0.95);
  border-color: #00e676;
}

/* 放大的参考图 */
.enlarged-reference {
  position: absolute;
  left: 30rpx;
  bottom: calc(24vh - 70px + 15rpx + 70px); /* 向上移动70px */
  width: 220rpx; /* 缩略图的2.2倍大小 */
  height: 220rpx;
  background: rgba(0, 0, 0, 0.8);
  border-radius: 16rpx;
  border: 4rpx solid #ffffff;
  overflow: hidden;
  z-index: 100;
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.3s ease;
  box-shadow: 0 8rpx 32rpx rgba(255, 255, 255, 0.3);
}

.enlarged-reference.show {
  opacity: 1;
  transform: scale(1);
}

/* 最大放大状态（4.5倍） */
.enlarged-reference.max-enlarged {
  width: 450rpx; /* 缩略图的4.5倍大小 */
  height: 450rpx;
}

.enlarged-reference image {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* 九宫格辅助线 */
.grid-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none; /* 不阻挡点击事件 */
  z-index: 50; /* 在相机上方，但在放大图下方 */
}

.grid-line {
  position: absolute;
  background-color: rgba(255, 255, 255, 0.3);
  pointer-events: none;
}

.grid-line-v {
  width: 1px;
  height: 100%;
  top: 0;
}

.grid-line-h {
  height: 1px;
  width: 100%;
  left: 0;
}





