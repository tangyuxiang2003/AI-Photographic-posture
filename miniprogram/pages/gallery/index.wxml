<view class="gallery-container">
  <!-- æœç´¢æ¡† -->
  <view class="search-bar">
    <input 
      class="search-input" 
      placeholder="æœç´¢åœºæ™¯ã€äººç‰©æˆ–ç‰©å“ã€å¤šä¸ªä»¥ç©ºæ ¼åŒºåˆ†"
      value="{{searchKeyword}}"
      bindconfirm="onSearch"
      bindinput="onSearchInput"
    />
    <image class="search-icon" src="/images/icons/question.svg" mode="aspectFit" />
  </view>

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <scroll-view class="category-tags" scroll-x enable-flex>
    <view 
      wx:for="{{categoryTags}}" 
      wx:key="id"
      class="tag-item {{currentTagIndex === index ? 'active' : ''}}"
      bindtap="onTagTap"
      data-index="{{index}}"
    >
      {{item.name}}
    </view>
  </scroll-view>

  <!-- å§¿åŠ¿åˆ—è¡¨ -->
  <scroll-view class="pose-list" scroll-y>
    <!-- åŠ¨æ€æ¸²æŸ“å§¿åŠ¿åˆ†ç»„ -->
    <view class="pose-section" wx:for="{{poseGroups}}" wx:key="tag" wx:for-item="group">
      <view class="section-header">
        <view class="section-title">
          <text class="section-emoji">ğŸ“¸</text>
          <text>{{group.tag}}</text>
        </view>
        <view class="view-all" bindtap="onViewAll" data-tag="{{group.tag}}">
          å…¨éƒ¨ <text class="arrow">></text>
        </view>
      </view>
      
      <view class="pose-grid">
        <view 
          wx:for="{{group.poses}}" 
          wx:key="id"
          wx:for-item="pose"
          class="pose-item"
          bindtap="onPoseTap"
          data-pose="{{pose}}"
        >
          <image class="pose-image" src="{{pose.url}}" mode="aspectFill" />
          <view class="pose-overlay">
            <button class="use-btn" bindtap="onUse" data-pose="{{pose}}" catchtap="onUse">ä½¿ç”¨</button>
          </view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{poseGroups.length === 0}}">
      <text class="empty-text">æš‚æ— å§¿åŠ¿æ•°æ®</text>
    </view>
  </scroll-view>
</view>